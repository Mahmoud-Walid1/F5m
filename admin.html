<!DOCTYPE html>
<html lang="ar" dir="rtl">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ููุญุฉ ุงูุชุญูู - ูุฎู ุงูุจู</title>

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700;800&display=swap" rel="stylesheet">

    <!-- CSS -->
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/admin.css">
</head>

<body>
    <div class="admin-container">
        <!-- Sidebar -->
        <aside class="admin-sidebar">
            <div class="sidebar-header">
                <h2>ูุฎู ุงูุจู</h2>
                <p>ููุญุฉ ุงูุชุญูู</p>
            </div>

            <nav class="sidebar-menu">
                <a href="#categories" class="menu-item active" onclick="showSection('categories')">
                    <span class="menu-icon">๐</span>
                    <span>ุงูุฃูุณุงู</span>
                </a>
                <a href="#products" class="menu-item" onclick="showSection('products')">
                    <span class="menu-icon">โ</span>
                    <span>ุงูููุชุฌุงุช</span>
                </a>
                <a href="#announcements" class="menu-item" onclick="showSection('announcements')">
                    <span class="menu-icon">๐ข</span>
                    <span>ุงูุฅุนูุงูุงุช</span>
                </a>
            </nav>

            <div class="sidebar-footer">
                <a href="index.html" class="btn-back">โ ุงูุนูุฏุฉ ูููููุน</a>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="admin-main">
            <!-- Categories Section -->
            <section id="categories-section" class="admin-section active">
                <div class="section-header">
                    <h1>ุฅุฏุงุฑุฉ ุงูุฃูุณุงู</h1>
                    <button class="btn-primary" onclick="openCategoryForm()">+ ุฅุถุงูุฉ ูุณู</button>
                </div>

                <div id="categories-list" class="items-grid">
                    <!-- Categories will be loaded here -->
                </div>
            </section>

            <!-- Products Section -->
            <section id="products-section" class="admin-section">
                <div class="section-header">
                    <h1>ุฅุฏุงุฑุฉ ุงูููุชุฌุงุช</h1>
                    <button class="btn-primary" onclick="openProductForm()">+ ุฅุถุงูุฉ ููุชุฌ</button>
                </div>

                <div id="products-list" class="items-grid">
                    <!-- Products will be loaded here -->
                </div>
            </section>

            <!-- Announcements Section -->
            <section id="announcements-section" class="admin-section">
                <div class="section-header">
                    <h1>ุฅุฏุงุฑุฉ ุงูุฅุนูุงูุงุช</h1>
                    <button class="btn-primary" onclick="openAnnouncementForm()">+ ุฅุถุงูุฉ ุฅุนูุงู</button>
                </div>

                <div id="announcements-list" class="items-grid">
                    <!-- Announcements will be loaded here -->
                </div>
            </section>
        </main>
    </div>

    <!-- Category Form Modal -->
    <div id="category-modal" class="modal">
        <div class="modal-overlay" onclick="closeCategoryForm()"></div>
        <div class="modal-content modal-form">
            <button class="modal-close" onclick="closeCategoryForm()">&times;</button>
            <h2 id="category-form-title">ุฅุถุงูุฉ ูุณู ุฌุฏูุฏ</h2>

            <form id="category-form" onsubmit="saveCategory(event)">
                <input type="hidden" id="category-id">

                <div class="form-group">
                    <label>ุงุณู ุงููุณู *</label>
                    <input type="text" id="category-name" required>
                </div>

                <div class="form-group">
                    <label>ุตูุฑุฉ ุงููุณู *</label>
                    <input type="file" id="category-image-file" accept="image/*">
                    <small style="color: #999; font-size: 12px;">ุฃู ุฃุฏุฎู ุฑุงุจุท ูุจุงุดุฑ:</small>
                    <input type="url" id="category-image-url" placeholder="https://..." style="margin-top: 8px;">
                    <div id="category-image-preview" style="margin-top: 10px;"></div>
                </div>

                <div class="form-group">
                    <label>ุงูุชุฑุชูุจ</label>
                    <input type="number" id="category-order" value="1" min="1">
                </div>

                <div class="form-group">
                    <label>
                        <input type="checkbox" id="category-active" checked>
                        ูุดุท
                    </label>
                </div>

                <div class="form-actions">
                    <button type="button" class="btn-secondary" onclick="closeCategoryForm()">ุฅูุบุงุก</button>
                    <button type="submit" class="btn-primary" id="category-save-btn">ุญูุธ</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Product Form Modal -->
    <div id="product-modal" class="modal">
        <div class="modal-overlay" onclick="closeProductForm()"></div>
        <div class="modal-content modal-form">
            <button class="modal-close" onclick="closeProductForm()">&times;</button>
            <h2 id="product-form-title">ุฅุถุงูุฉ ููุชุฌ ุฌุฏูุฏ</h2>

            <form id="product-form" onsubmit="saveProduct(event)">
                <input type="hidden" id="product-id">

                <div class="form-group">
                    <label>ุงุณู ุงูููุชุฌ *</label>
                    <input type="text" id="product-name" required>
                </div>

                <div class="form-group">
                    <label>ุงููุตู</label>
                    <textarea id="product-description" rows="3"></textarea>
                </div>

                <div class="form-group">
                    <label>ุงููุณู *</label>
                    <select id="product-category" required>
                        <option value="">ุงุฎุชุฑ ุงููุณู...</option>
                    </select>
                </div>

                <div class="form-group">
                    <label>ุฑุงุจุท ุงูุตูุฑุฉ</label>
                    <input type="url" id="product-image" placeholder="https://...">
                </div>

                <div class="form-group">
                    <label>
                        <input type="checkbox" id="product-has-hot">
                        ูุชููุฑ ุณุงุฎู
                    </label>
                </div>

                <div class="form-group">
                    <label>
                        <input type="checkbox" id="product-has-cold">
                        ูุชููุฑ ุจุงุฑุฏ
                    </label>
                </div>

                <div class="form-group">
                    <label>ุงูุฃุญุฌุงู ูุงูุฃุณุนุงุฑ</label>
                    <div id="sizes-container">
                        <div class="size-row">
                            <input type="text" placeholder="ุงูุญุฌู (ูุซูุงู: ุตุบูุฑ)" class="size-name">
                            <input type="number" placeholder="ุงูุณุนุฑ" class="size-price" min="0" step="0.25">
                            <button type="button" class="btn-remove" onclick="removeSize(this)">ร</button>
                        </div>
                    </div>
                    <button type="button" class="btn-add-size" onclick="addSizeRow()">+ ุฅุถุงูุฉ ุญุฌู</button>
                </div>

                <div class="form-group">
                    <label>ุงูุชุฑุชูุจ</label>
                    <input type="number" id="product-order" value="1" min="1">
                </div>

                <div class="form-group">
                    <label>
                        <input type="checkbox" id="product-active" checked>
                        ูุดุท
                    </label>
                </div>

                <div class="form-actions">
                    <button type="button" class="btn-secondary" onclick="closeProductForm()">ุฅูุบุงุก</button>
                    <button type="submit" class="btn-primary">ุญูุธ</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Announcement Form Modal -->
    <div id="announcement-modal" class="modal">
        <div class="modal-overlay" onclick="closeAnnouncementForm()"></div>
        <div class="modal-content modal-form">
            <button class="modal-close" onclick="closeAnnouncementForm()">&times;</button>
            <h2 id="announcement-form-title">ุฅุถุงูุฉ ุฅุนูุงู ุฌุฏูุฏ</h2>

            <form id="announcement-form" onsubmit="saveAnnouncement(event)">
                <input type="hidden" id="announcement-id">

                <div class="form-group">
                    <label>ุนููุงู ุงูุฅุนูุงู *</label>
                    <input type="text" id="announcement-title" required>
                </div>

                <div class="form-group">
                    <label>ุงููุตู</label>
                    <textarea id="announcement-description" rows="4"></textarea>
                </div>

                <div class="form-group">
                    <label>ุตูุฑุฉ ุงูุฅุนูุงู</label>
                    <input type="file" id="announcement-image-file" accept="image/*">
                    <small style="color: #999; font-size: 12px;">ุฃู ุฃุฏุฎู ุฑุงุจุท ูุจุงุดุฑ:</small>
                    <input type="url" id="announcement-image-url" placeholder="https://..." style="margin-top: 8px;">
                    <div id="announcement-image-preview" style="margin-top: 10px;"></div>
                </div>

                <div class="form-group">
                    <label>ุงูุฃููููุฉ (ุงูุฃุนูู ูุธูุฑ ุฃููุงู)</label>
                    <input type="number" id="announcement-priority" value="1" min="1">
                </div>

                <div class="form-group">
                    <label>
                        <input type="checkbox" id="announcement-active" checked>
                        ูุดุท
                    </label>
                </div>

                <div class="form-actions">
                    <button type="button" class="btn-secondary" onclick="closeAnnouncementForm()">ุฅูุบุงุก</button>
                    <button type="submit" class="btn-primary" id="announcement-save-btn">ุญูุธ</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>

    <!-- Scripts -->
    <script src="js/firebase-config.js"></script>
    <script src="js/github-upload.local.js"></script>
    <script src="js/admin.js"></script>
</body>

</html>